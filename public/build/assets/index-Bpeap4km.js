import{K as M,r as d,m as F,j as a,L as I,$ as b,S as O}from"./app-foZHpkCd.js";import{A as _,D as z,j as K,k as R,l as U,m as u}from"./app-layout-1usS33NH.js";import{C as Y,a as $,b as J,c as q,k as G,d as Q,T as V,e as W,f as j,g as p,h as X,i as c,B as Z,j as aa}from"./badge-BwxRswKh.js";import{B as l}from"./button-HguxfCUE.js";import{D as N,a as k,b as D,c as C,d as L,e as v}from"./dialog-xe7Y-FXo.js";import{A as sa,a as ea,b as na,c as ra,d as la,e as ia,f as ta,g as oa}from"./alert-dialog-CELVQM63.js";import{L as A,I as T}from"./label-CfUYd-CS.js";import{C as da,E as ca,P as ma,T as ha,a as xa,b as ua,c as ja,d as pa}from"./pagination-DxcDMO2w.js";import{E as ga}from"./eye-DzX1h2It.js";import"./index-B5QgjuJX.js";import"./index-B1HifKZa.js";import"./index-Dcoifnay.js";import"./index-CvGXpAfm.js";import"./app-logo-icon-VMHVhV75.js";function Pa(){const{lokasiList:n,errors:fa}=M().props,[y,i]=d.useState(!1),[e,t]=d.useState(null),[r,m]=d.useState(null),{data:g,setData:h,post:S,put:w,processing:f,errors:o,reset:x}=F({id:void 0,nama:""});d.useEffect(()=>{e?h({id:e.id,nama:e.nama}):x()},[e]);const B=s=>{s.preventDefault(),S(route("lokasi.store"),{onSuccess:()=>{i(!1),x()}})},E=s=>{s.preventDefault(),console.log("CALLLLLEEDDDD"),e&&w(route("lokasi.update",e.id),{onSuccess:()=>{t(null),x()}})},P=()=>{r&&O.delete(route("lokasi.destroy",r.id),{onSuccess:()=>m(null)})};return a.jsxs(_,{children:[a.jsx(I,{title:"Daftar Lokasi"}),a.jsx("main",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:a.jsxs(Y,{children:[a.jsxs($,{children:[a.jsx(J,{children:"Daftar Lokasi"}),a.jsx(q,{children:"Kelola lokasi untuk semua barang di gudang."}),a.jsx(G,{children:a.jsxs(l,{size:"sm",className:"gap-1",onClick:()=>i(!0),children:[a.jsx(da,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Tambah Lokasi"})]})})]}),a.jsx(Q,{children:a.jsxs(V,{children:[a.jsx(W,{children:a.jsxs(j,{children:[a.jsx(p,{children:"Nama Lokasi"}),a.jsx(p,{className:"text-center",children:"Jumlah Barang"}),a.jsx(p,{children:a.jsx("span",{className:"sr-only",children:"Aksi"})})]})}),a.jsx(X,{children:n.data.length>0?n.data.map(s=>a.jsxs(j,{children:[a.jsx(c,{className:"font-medium",children:a.jsx(b,{href:route("barang.index",{lokasi:s.nama}),className:"hover:underline",children:s.nama})}),a.jsx(c,{className:"text-center",children:a.jsxs(Z,{variant:"secondary",children:[a.jsx("span",{className:"font-semibold",children:s.barang_count})," Barang"]})}),a.jsx(c,{className:"text-right",children:a.jsxs(z,{children:[a.jsx(K,{asChild:!0,children:a.jsxs(l,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),a.jsxs(R,{align:"end",children:[a.jsx(U,{children:"Aksi"}),a.jsx(u,{asChild:!0,children:a.jsxs(b,{href:route("barang.index",{lokasi:s.nama}),children:[a.jsx(ga,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Lihat Barang"})]})}),a.jsxs(u,{onClick:()=>setTimeout(()=>t(s),50),children:[a.jsx(ma,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Ubah Nama"})]}),a.jsxs(u,{className:"text-red-600 focus:text-red-600 focus:bg-red-100",onClick:()=>setTimeout(()=>m(s),50),children:[a.jsx(ha,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Hapus"})]})]})]})})]},s.id)):a.jsx(j,{children:a.jsx(c,{colSpan:3,className:"h-24 text-center",children:"Belum ada lokasi."})})})]})}),a.jsxs(aa,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Menampilkan ",a.jsxs("strong",{children:[n.from,"-",n.to]})," dari ",a.jsx("strong",{children:n.total})," lokasi"]}),a.jsx(xa,{className:"ml-auto",children:a.jsx(ua,{children:n.links.map((s,H)=>a.jsx(ja,{children:a.jsx(pa,{href:s.url||"#",preserveScroll:!0,preserveState:!0,className:s.url?"":"pointer-events-none text-muted-foreground",children:a.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})})},H))})})]})]})}),a.jsx(N,{open:y,onOpenChange:i,children:a.jsx(k,{className:"sm:max-w-[425px]",children:a.jsxs("form",{onSubmit:B,children:[a.jsxs(D,{children:[a.jsx(C,{children:"Tambah Lokasi Baru"}),a.jsx(L,{children:"Masukkan nama untuk lokasi baru."})]}),a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(A,{htmlFor:"nama",className:"text-right",children:"Nama"}),a.jsx(T,{id:"nama",value:g.nama,onChange:s=>h("nama",s.target.value),className:"col-span-3",autoFocus:!0}),o.nama&&a.jsx("p",{className:"col-span-4 text-sm text-red-500 text-right",children:o.nama})]})}),a.jsxs(v,{children:[a.jsx(l,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Batal"}),a.jsx(l,{type:"submit",disabled:f,children:"Simpan"})]})]})})}),a.jsx(N,{open:!!e,onOpenChange:()=>t(null),children:a.jsx(k,{className:"sm:max-w-[425px]",children:a.jsxs("form",{id:"edit-lokasi-form",onSubmit:E,children:[a.jsxs(D,{children:[a.jsx(C,{children:"Ubah Nama Lokasi"}),a.jsx(L,{children:"Perbarui nama untuk lokasi yang dipilih."})]}),a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(A,{htmlFor:"edit-nama",className:"text-right",children:"Nama"}),a.jsx(T,{id:"edit-nama",value:g.nama,onChange:s=>h("nama",s.target.value),className:"col-span-3",autoFocus:!0}),o.nama&&a.jsx("p",{className:"col-span-4 text-sm text-red-500 text-right",children:o.nama})]})}),a.jsxs(v,{children:[a.jsx(l,{type:"button",variant:"outline",onClick:()=>t(null),children:"Batal"}),a.jsx(l,{type:"submit",form:"edit-lokasi-form",disabled:f,children:"Simpan Perubahan"})]})]})})}),a.jsx(sa,{open:!!r,onOpenChange:()=>m(null),children:a.jsxs(ea,{children:[a.jsxs(na,{children:[a.jsx(ra,{children:"Apakah Anda Yakin?"}),a.jsxs(la,{children:["Tindakan ini tidak dapat dibatalkan. Ini akan menghapus lokasi",a.jsxs("span",{className:"font-semibold",children:[' "',r==null?void 0:r.nama,'"']}),"."]})]}),a.jsxs(ia,{children:[a.jsx(ta,{children:"Batal"}),a.jsx(oa,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Ya, Hapus"})]})]})})]})}export{Pa as default};
