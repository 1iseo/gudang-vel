import{j as e,r as s,K as v,L as k,S as N}from"./app-CfqaGs3U.js";import{A}from"./app-layout-xzLuri2u.js";import w from"./user-form-5kzXljC9.js";import{c as b,b as D,f as C,B as o}from"./button-Ce7q4PQb.js";import{A as S,a as U,b as E,c as O,d as F,e as I,f as T,g as _}from"./alert-dialog-Bok5vSdO.js";import"./index-BKtjWBui.js";import"./index-DTUtd_q8.js";import"./index-BPhO1hTB.js";import"./index-DIvSMkqs.js";import"./app-logo-icon-Cdw9Pj6p.js";import"./dialog-BhBfl4oE.js";import"./label-Bxzvmgo7.js";import"./index-B4imQ1zJ.js";import"./check-D1Zi_ZCZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z=b("CircleAlert",L),B=C("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function H({className:r,variant:l,...a}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:D(B({variant:l}),r),...a})}function ee({users:r}){const[l,a]=s.useState(!1),[g,i]=s.useState(!1),[n,d]=s.useState(void 0),{auth:m,flash:u}=v().props,[x,p]=s.useState(null),c=u.error;s.useEffect(()=>{if(c){p(c);const t=setTimeout(()=>p(null),5e3);return()=>clearTimeout(t)}},[c]);const h=t=>{d(t),a(!0)},f=t=>{d(t),i(!0)},j=()=>{n&&N.delete(route("users.destroy",n.id),{onSuccess:()=>i(!1)})},y=t=>m.user.role==="super_admin"||m.user.role==="admin"&&t.role==="pegawai";return e.jsxs(A,{children:[e.jsx(k,{title:"Manajemen User"}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h1",{className:"text-base font-semibold leading-6 text-gray-900 dark:text-white",children:"Manajemen User"}),e.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:"Daftar semua pengguna di aplikasi Anda."})]}),e.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:e.jsx(o,{onClick:()=>h(),children:"Tambah User"})})]}),e.jsxs("div",{className:"mt-8 flow-root",children:[x&&e.jsx("div",{className:"mt-4",children:e.jsxs(H,{variant:"destructive",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:x})]})}),e.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-0",children:"Name"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Email"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Role"}),e.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:r.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-white sm:pl-0",children:t.name}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300",children:t.email}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300",children:t.role}),e.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:y(t)&&e.jsxs("div",{className:"flex items-center justify-end gap-x-4",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>h(t),children:"Edit"}),e.jsx(o,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-500",onClick:()=>f(t),children:"Hapus"})]})})]},t.email))})]})})})]})]}),e.jsx(w,{isOpen:l,onClose:()=>a(!1),user:n}),e.jsx(S,{open:g,onOpenChange:i,children:e.jsxs(U,{children:[e.jsxs(E,{children:[e.jsx(O,{children:"Apakah Anda yakin?"}),e.jsx(F,{children:"Tindakan ini tidak dapat dibatalkan. Ini akan menghapus pengguna secara permanen."})]}),e.jsxs(I,{children:[e.jsx(T,{children:"Batal"}),e.jsx(_,{onClick:j,children:"Hapus"})]})]})})]})}export{ee as default};
